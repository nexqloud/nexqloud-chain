#!/usr/bin/expect -f

# Set timeout for each step
set timeout 20

# Start the command
spawn nxqd keys add primary --recover --keyring-backend file --algo eth_secp256k1 --home "~/.nxqd"

# Wait a moment for the mnemonic prompt
sleep 1
send "$VAL_MNEMONIC\r"

# Wait for the keyring passphrase prompt
sleep 2
send "$VAL_PASSWORD\r"

# Wait for the confirmation prompt
sleep 1
send "$VAL_PASSWORD\r"

# Wait for the command to complete
expect eof
